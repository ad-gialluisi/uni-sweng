<!-- Copyright (C) 2020 Antonio Daniele Gialluisi -->

<!-- This file is part of "Piattaforma Cicerone" -->

<!-- This program is free software: you can redistribute it and/or modify -->
<!-- it under the terms of the GNU General Public License as published by -->
<!-- the Free Software Foundation, either version 3 of the License, or -->
<!-- (at your option) any later version. -->

<!-- This program is distributed in the hope that it will be useful, -->
<!-- but WITHOUT ANY WARRANTY; without even the implied warranty of -->
<!-- MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the -->
<!-- GNU General Public License for more details. -->

<!-- You should have received a copy of the GNU General Public License -->
<!-- along with this program. If not, see <https://www.gnu.org/licenses/>. -->


\@schermata-crea-itinerario{
<h4>\@messaggistica</h4>

<h4 id="messaggi"></h4>

<div class="centered-text-screen">
    <h3 class="screen-title">Crea nuovo itinerario</h3>
	<form method="post" action="\@form-req-crea-itinerario" enctype="multipart/form-data">
		<p>
			<label>Immagine itinerario<br>
    		<img class="itinerario-img" id="anteprima" src="\@percorso-immagine" alt="immagine itinerario"/><br>
        	<input id="\@id-input-file" type="file" name="\@campo-immagine-upload" onchange="\@azione-mostra-anteprima" accept="image/*"></label>
			<input type="button" onclick="\@azione-conferma-reset-anteprima" value="Immagine di default">
        	<input id="\@id-input-restore" type="hidden" name="\@campo-ripristina-immagine" value="false">
	    </p>

	    <label>Nome</label><br>
    	<input type="text" name="\@campo-nome" value=""><br>
    	<label>Data</label><br>
    	<input type="date" name="\@campo-data" value=""><br>
    	<label>Ora</label><br>
    	<input type="time" name="\@campo-ora" value=""><br>
    	<label>Lingua</label><br>
    	<input type="text" name="\@campo-lingua" value=""><br>
    	<label>Luogo</label><br>
    	<input type="text" name="\@campo-luogo" value=""><br>

    	<p>
    	<label>Compenso</label><br>
    	<input type="number" name="\@campo-compenso" min="0" step="1" value="0"><br>
    	<select name="\@campo-valuta">
    		<option selected="selected" value="">Scegli...</option>
    		\@altre-valute
    	</select><br>
    	Se trattasi di valuta con centesimi, scrivere il compenso in centesimi (ad esempio: 3€ = 300¢)<br>
    	Per segnalare che non c'è compenso (gratuito), inserire 0.
    	</p>

    	<label>Popolarità itinerario</label><br>
    	<select name="\@campo-popolarita">
    		<option selected="selected" value="">Scegli...</option>
    		<option value="1">\@nome-popolarita-1</option>
    		<option value="2">\@nome-popolarita-2</option>
    		<option value="3">\@nome-popolarita-3</option>
    		<option value="4">\@nome-popolarita-4</option>
    		<option value="5">\@nome-popolarita-5</option>
    	</select>

		<p>
		<label>Descrizione</label><br>
    	<textarea name="\@campo-descrizione"></textarea>
    	</p>
		<input type="submit" class="generic-button" value="Crea itinerario"/>
	</form>
</div>
\@}

\@schermata-modifica-itinerario{
<h4>\@messaggistica</h4>

<h4 id="messaggi"></h4>

<div class="centered-text-screen">
    <h3 class="screen-title">Modifica itinerario</h3>
	<form method="post" action="\@form-req-modifica-itinerario" enctype="multipart/form-data">
		<p>
			<label>Immagine itinerario<br>
    		<img class="itinerario-img" id="anteprima" src="\@percorso-immagine" alt="immagine itinerario"/><br>
        	<input id="\@id-input-file" type="file" name="\@campo-immagine-upload" onchange="\@azione-mostra-anteprima" accept="image/*"></label>
			<input type="button" onclick="\@azione-conferma-reset-anteprima" value="Immagine di default">
        	<input id="\@id-input-restore" type="hidden" name="\@campo-ripristina-immagine" value="false">
	    </p>

		<input type="hidden" name="\@campo-id" value="\@id">
	    <label>Nome</label><br>
    	<input type="text" name="\@campo-nome" value="\@nome"><br>
    	<label>Data</label><br>
    	<input type="date" name="\@campo-data" value="\@data"><br>
    	<label>Ora</label><br>
    	<input type="time" name="\@campo-ora" value="\@ora"><br>
    	<label>Lingua</label><br>
    	<input type="text" name="\@campo-lingua" value="\@lingua"><br>
    	<label>Luogo</label><br>
    	<input type="text" name="\@campo-luogo" value="\@luogo"><br>

    	<p>
    	<label>Compenso</label><br>
    	<input type="number" name="\@campo-compenso" min="0" step="1" value="\@compenso"><br>
    	<select name="\@campo-valuta">
    		<option value="">Scegli...</option>
    		\@altre-valute
    	</select><br>
    	Se trattasi di valuta con centesimi, scrivere il compenso in centesimi (ad esempio: 3€ = 300¢)<br>
    	Per segnalare che non c'è compenso (gratuito), inserire 0.
    	</p>

    	<label>Popolarità itinerario</label><br>
    	<select name="\@campo-popolarita">
    		<option value="">Scegli...</option>
    		<option \@selezionato-1 value="1">\@nome-popolarita-1</option>
    		<option \@selezionato-2 value="2">\@nome-popolarita-2</option>
    		<option \@selezionato-3 value="3">\@nome-popolarita-3</option>
    		<option \@selezionato-4 value="4">\@nome-popolarita-4</option>
    		<option \@selezionato-5 value="5">\@nome-popolarita-5</option>
    	</select><br>

    	<p>
    	<label>Stato dell'itinerario: \@stato</label><br>
    		\@stato-aperto{
    			L'itinerario è aperto alle richieste di partecipazione.<br>
    			<label><input type="checkbox" name="\@campo-stato" value="\@nome-stato-itinere">Imposta come in esecuzione</label>
    		\@}
    		\@stato-itinere{
    			L'itinerario è in esecuzione.<br>
    			<label><input type="checkbox" name="\@campo-stato" value="\@nome-stato-concluso"> Imposta come concluso</label>
    		\@}
    		\@stato-concluso{
    			L'itinerario è concluso.<br>
    			<label><input type="checkbox" name="\@campo-stato" value="\@nome-stato-chiuso"> Imposta come chiuso</label>
    		\@}
    		\@stato-chiuso{
    			L'itinerario è chiuso, non è possibile fare altro.
    		\@}
    	</p>

		<p>
			<label>Descrizione</label><br>
    		<textarea name="\@campo-descrizione">\@descrizione</textarea>
    	</p>
		<input type="submit" class="generic-button" value="Modifica completata"/>
	</form>
</div>
\@}

\@schermata-ricerca-itinerari{
<h4 id="messaggi"></h4>

<div class="centered-text-screen">
    <h3 class="screen-title">Ricerca itinerario</h3>

	<div>
		<div class="info-side">
			<p>
				<label>Luogo contiene:</label><br>
    			<input type="text" name="\@campo-luogo-contiene" value="">
    		</p>
			<p>
				<label>Itinerario contiene:</label><br>
    			<input type="text" name="\@campo-itinerario-contiene" value="">
    		</p>

			<p>
				<label>Filtra per data:</label>
				<select name="\@campo-filtro-data">
    				<option value="">Qualunque</option>
    				<option value="=">Uguale a</option>
    				<option value="<">Minore di</option>
    				<option value="<=">Minore o uguale a</option>
    				<option value=">">Maggiore</option>
    				<option value=">=">Maggiore o uguale a</option>
			    </select>
			</p>

			<p>
				<label>Data</label><br>
				<input type="date" name="\@campo-data" value=""><br>
				<label>Ora</label><br>
	    		<input type="time" name="\@campo-ora" value=""><br>
		    </p>
	    </div>

		<div class="button-side">
			<p>
    			<label>Filtra per popolarità:</label><br>
    			<label><input type="checkbox" name="\@campo-popolarita-1" value="1">
    			\@nome-popolarita-1</label><br> 
    			<label><input type="checkbox" name="\@campo-popolarita-2" value="2">
    			\@nome-popolarita-2</label><br>
    			<label><input type="checkbox" name="\@campo-popolarita-3" value="3">
    			\@nome-popolarita-3</label><br>
    			<label><input type="checkbox" name="\@campo-popolarita-4" value="4">
    			\@nome-popolarita-4</label><br>
    			<label><input type="checkbox" name="\@campo-popolarita-5" value="5">
    			\@nome-popolarita-5</label>
			</p>

			<p>
				<label>Ulteriori filtri</label><br>
   				<label><input type="checkbox" name="\@campo-includi-non-aperti" value="1"> Includi itinerari non aperti</label><br>
	
				\@is-partecipante{
					<label><input type="checkbox" name="\@campo-includi-itinerari-partecipante" value="">
					Includi itinerari a cui partecipo</label>
				\@}
	
				\@is-cicerone{
					<label><input type="checkbox" name="\@campo-includi-itinerari-partecipante" value="">
					Includi itinerari a cui partecipo</label><br>
					<label><input type="checkbox" name="\@campo-includi-itinerari-organizzatore" value="">
					Includi itinerari organizzati da me</label>
				\@}
			</p>
		
			<button class="generic-button" onclick="effettuaRicerca()">Effettua ricerca</button>
		</div>
	</div>

	<div id="risultati-ricerca" class="list-holder itinerary-search-results">
		<p>Nessun risultato</p>
	</div>
</div>
\@}

\@schermata-visualizzazione-itinerario{
<h4>\@messaggistica</h4>

<h4 id="messaggi"></h4>

<div class="centered-text-screen">
	\@itinerario-trovato{
		<h3 class="screen-title">Itinerario "\@nome-itinerario" organizzato da <a href="\@form-scr-profilo">\@nome-utente</a></h3>

		<div class="info-side">
    		<p><strong>Data</strong>:<br>\@data</p>
    		<p><strong>Lingua</strong>:<br>\@lingua</p>
    		<p><strong>Luogo</strong>:<br>\@luogo</p>
    		<p><strong>Compenso</strong>:<br>\@compenso</p>
    		<p><strong>Popolarità</strong>:<br>\@nome-popolarita</p>
    		<p><strong>Descrizione</strong>:<br>\@descrizione</p>
		</div>

		<div class="button-side">
			<img class="itinerario-img" src="\@percorso-immagine" alt="immagine itinerario"/><br>


			\@is-ospite-fruitore{
				<a class="generic-button block" href="\@form-scr-lista-partecipazioni">Visualizza partecipazioni</a>
			\@}
			\@is-cicerone-organizzatore{
    			<a class="generic-button block" href="\@form-scr-lista-partecipazioni">Visualizza/Gestisci partecipazioni</a>
			\@}

	    	\@is-cicerone-organizzatore{
				<a class="generic-button block" href="\@form-scr-modifica-itinerario">Modifica</a>
				<a class="generic-button block" id="\@id-rimozione-itinerario" oncontextmenu="return false" onclick="\@azione-mostra-popup-conferma" href="\@form-req-rimuovi-itinerario">Rimuovi</a>
	    	\@}


			\@stato-aperto{
    			<p>È possibile inviare richieste di partecipazione.</p>

    			\@no-partecipazione{
					<a class="generic-button block" href="javascript:;" onclick="inviaRichiestaPartecipazione(this, \@id-itinerario, \@id-partecipante)">Richiedi partecipazione</a>
				\@}
				\@is-partecipazione-accordata{
    				<a class="generic-button block" href="javascript:;" onclick="inviaRichiestaAnnullamento(this, \@id-itinerario, \@id-partecipante)">Annulla partecipazione</a>
			    \@}
			    \@is-partecipazione-accordanda{
    				<p>Partecipazione in attesa di essere accordata...</p>
			    \@}
    			\@is-partecipazione-annullanda{
					<p>Partecipazione in attesa di essere annullata...</p>
			    \@}
			\@}

    		\@stato-itinere{
    			<p>L'itinerario è in svolgimento.</p>
    			
    			\@is-partecipazione-accordata{
    				<p>Stai partecipando all'itinerario...</p>
			    \@}
    		\@}

    		\@stato-concluso{
    			<p>L'itinerario è concluso.</p>

		    	\@is-partecipazione-accordata{
		    		\@feedback-non-rilasciato{
						<a class="generic-button block" href="\@form-scr-rilascio-feedback">Rilascia feedback all'organizzatore</a>
					\@}
				\@}
				\@is-cicerone-organizzatore{
					\@feedback-non-rilasciato{
						<a class="generic-button block" href="\@form-scr-rilascio-feedback">Rilascia feedback ai partecipanti</a>
					\@}
				\@}
    		\@}

	    	\@stato-chiuso{
		    	<p>L'itinerario è chiuso.</p>
    		\@}
		</div>
    \@}
    \@itinerario-non-trovato{
        <h3 class="screen-title">Itinerario non trovato</h3>
        <p>L'itinerario richiesto non è stato trovato.</p>
    \@}
</div>
\@}

\@schermata-visualizzazione-itinerari-fruitore{
<h4>\@messaggistica</h4>

<h4 id="messaggi"></h4>

<div class="centered-text-screen">
	\@fruitore-trovato{
		\@is-cicerone{
			<h3 class="screen-title">Itinerari di <a href="\@form-scr-profilo">\@nome-utente</a></h3>

			\@me-stesso{
				<p>
					<a  href="\@form-scr-crea-itinerario" class="make-itinerary-button generic-button block">Crea nuovo itinerario</a>
				</p>
			\@}

			<p>
				<select id="itinerary-selector"  class="block" onchange="mostraMenuTramiteSelect(this)">
					<option selected="selected" value="itinerari-partecipante">Itinerari come partecipante</option>
					<option value="itinerari-organizzatore">Itinerari organizzati</option>
				</select>
			</p>

			<div class="list-holder">
				<div id="itinerari-partecipante">
					\@itinerari-partecipante
				</div>

				<div id="itinerari-organizzatore" class="hidden">
					\@itinerari-organizzatore
				</div>
			</div>
		\@}

		\@is-fruitore-qualunque{
			<h3 class="screen-title">Itinerari a cui <a href="\@form-scr-profilo">\@nome-utente</a> partecipa/ha partecipato</h3>

			<div class="list-holder">
				\@itinerari-partecipante
			</div>
		\@}
	\@}

	\@fruitore-non-trovato{
		<h3 class="screen-title">L'utente specificato non è stato trovato</h3>
		<p>Di conseguenza non è stato possibile mostrare gli itinerari.</p>
	\@}
</div>
\@}

\@schermata-home{
<h4>\@messaggistica</h4>

<h3>HOME</h3>
<h4>Gli ultimi 20 itinerari organizzati in ordine di tempo</h4>
<div class="centered-text-screen list-holder">
	\@itinerari
</div>
\@}

\@schermata-lista-richieste-partecipazione{
<h4>\@messaggistica</h4>

<h4 id="messaggi"></h4>

<div class="centered-text-screen">
	\@itinerario-valido{
    	<h3 class="screen-title">Lista richieste di partecipazione all'itinerario <a href="\@form-scr-itinerario">\@nome-itinerario</a></h3>

		\@is-cicerone-organizzatore{
			<p>
				<select class="block" onchange="mostraMenuTramiteSelect(this)">
					<option selected="selected" value="accordate">Partecipazioni accordate</option>
					<option value="accordande">Richieste di partecipazione</option>
					<option value="annullande">Richieste di annullamento</option>
				</select>
			</p>

			<div class="list-holder">
				<div id="accordate">
					\@partecipazioni-accordate
				</div>
	
				<div id="accordande" class="hidden">
					\@richieste-partecipazione
				</div>

				<div id=annullande class="hidden">
					\@richieste-annullamento
				</div>
			</div>
		\@}

		\@is-utente{
			<div class="list-holder">
				<div id="accordate">
					\@partecipazioni-accordate
				</div>
			</div>
		\@}
	\@}

	\@itinerario-non-valido{
		<h3 class="screen-title">Itinerario non trovato</h3>
		<p>L'itinerario specificato non esiste</p>
	\@}
</div>
\@}


