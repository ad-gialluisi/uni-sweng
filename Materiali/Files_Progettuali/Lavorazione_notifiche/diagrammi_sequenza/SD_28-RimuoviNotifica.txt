@startuml

!include skin.h

actor UtenteRegistrato
boundary vistaNotifica
control controlloreNotifica
control modelloNotifica

note over UtenteRegistrato : ovvero uno tra,\nGlobetrotter, QuasiCicerone,\nCicerone, Amministratore

UtenteRegistrato -> vistaNotifica : elabora(dati)
activate vistaNotifica
vistaNotifica -> controlloreNotifica : richiediRimozioneNotifica(dati)
activate controlloreNotifica
controlloreNotifica -> controlloreNotifica : validaParametri(dati)
activate controlloreNotifica

alt I dati sono validi
    controlloreNotifica -> modelloNotifica : rimuoviNotifica(idNotifica)
    activate modelloNotifica
    controlloreNotifica <<-- modelloNotifica : codiceStato
    deactivate modelloNotifica
else
    controlloreNotifica -> controlloreNotifica : set(codiceStato, OPERAZIONE_FALLITA)
end
deactivate controlloreNotifica

controlloreNotifica -> controlloreNotifica : setStatoOperazione(codiceStato)
controlloreNotifica -> controlloreNotifica : setMessaggio(codiceStato)

vistaNotifica -> controlloreNotifica : getStatoOperazione()
vistaNotifica <<-- controlloreNotifica : statoOperazione
deactivate controlloreNotifica

opt L'operazione Ã¨ andata a buon fine
    vistaNotifica -> vistaNotifica : aggiornaVisualizzazioneNotifiche()
end
@enduml
